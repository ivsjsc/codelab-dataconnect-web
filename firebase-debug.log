[debug] [2025-06-12T11:00:56.446Z] ----------------------------------------------------------------------
[debug] [2025-06-12T11:00:56.448Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\nbi29\AppData\Local\npm-cache\_npx\ba4f1959e38407b5\node_modules\firebase-tools\lib\bin\firebase.js deploy --only dataconnect --project ivs-b9eb6
[debug] [2025-06-12T11:00:56.448Z] CLI Version:   14.6.0
[debug] [2025-06-12T11:00:56.449Z] Platform:      win32
[debug] [2025-06-12T11:00:56.449Z] Node Version:  v22.16.0
[debug] [2025-06-12T11:00:56.449Z] Time:          Thu Jun 12 2025 18:00:56 GMT+0700 (Indochina Time)
[debug] [2025-06-12T11:00:56.449Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-06-12T11:00:56.623Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-06-12T11:00:56.623Z] > authorizing via signed-in user (ivsedu.dalat@gmail.com)
[debug] [2025-06-12T11:00:56.623Z] [iam] checking project ivs-b9eb6 for permissions ["cloudsql.databases.create","cloudsql.databases.update","cloudsql.instances.connect","cloudsql.instances.create","cloudsql.instances.get","cloudsql.instances.list","cloudsql.instances.update","cloudsql.users.create","firebase.projects.get","firebasedataconnect.connectors.create","firebasedataconnect.connectors.delete","firebasedataconnect.connectors.list","firebasedataconnect.connectors.update","firebasedataconnect.operations.get","firebasedataconnect.schemas.create","firebasedataconnect.schemas.delete","firebasedataconnect.schemas.list","firebasedataconnect.schemas.update","firebasedataconnect.services.create","firebasedataconnect.services.delete","firebasedataconnect.services.list","firebasedataconnect.services.update"]
[debug] [2025-06-12T11:00:56.624Z] Checked if tokens are valid: false, expires at: 1749715005022
[debug] [2025-06-12T11:00:56.624Z] Checked if tokens are valid: false, expires at: 1749715005022
[debug] [2025-06-12T11:00:56.624Z] > refreshing access token with scopes: []
[debug] [2025-06-12T11:00:56.625Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2025-06-12T11:00:56.626Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-06-12T11:00:56.861Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2025-06-12T11:00:56.861Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-06-12T11:00:56.865Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/ivs-b9eb6:testIamPermissions [none]
[debug] [2025-06-12T11:00:56.866Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/ivs-b9eb6:testIamPermissions x-goog-quota-user=projects/ivs-b9eb6
[debug] [2025-06-12T11:00:56.866Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/ivs-b9eb6:testIamPermissions {"permissions":["cloudsql.databases.create","cloudsql.databases.update","cloudsql.instances.connect","cloudsql.instances.create","cloudsql.instances.get","cloudsql.instances.list","cloudsql.instances.update","cloudsql.users.create","firebase.projects.get","firebasedataconnect.connectors.create","firebasedataconnect.connectors.delete","firebasedataconnect.connectors.list","firebasedataconnect.connectors.update","firebasedataconnect.operations.get","firebasedataconnect.schemas.create","firebasedataconnect.schemas.delete","firebasedataconnect.schemas.list","firebasedataconnect.schemas.update","firebasedataconnect.services.create","firebasedataconnect.services.delete","firebasedataconnect.services.list","firebasedataconnect.services.update"]}
[debug] [2025-06-12T11:00:57.969Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/ivs-b9eb6:testIamPermissions 200
[debug] [2025-06-12T11:00:57.969Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/ivs-b9eb6:testIamPermissions {"permissions":["cloudsql.databases.create","cloudsql.databases.update","cloudsql.instances.connect","cloudsql.instances.create","cloudsql.instances.get","cloudsql.instances.list","cloudsql.instances.update","cloudsql.users.create","firebase.projects.get","firebasedataconnect.connectors.create","firebasedataconnect.connectors.delete","firebasedataconnect.connectors.list","firebasedataconnect.connectors.update","firebasedataconnect.operations.get","firebasedataconnect.schemas.create","firebasedataconnect.schemas.delete","firebasedataconnect.schemas.list","firebasedataconnect.schemas.update","firebasedataconnect.services.create","firebasedataconnect.services.delete","firebasedataconnect.services.list","firebasedataconnect.services.update"]}
[info] 
[info] === Deploying to 'ivs-b9eb6'...
[info] 
[info] i  deploying dataconnect 
[debug] [2025-06-12T11:00:57.971Z] Checked if tokens are valid: true, expires at: 1749729655861
[debug] [2025-06-12T11:00:57.971Z] Checked if tokens are valid: true, expires at: 1749729655861
[debug] [2025-06-12T11:00:57.971Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/ivs-b9eb6/billingInfo [none]
[debug] [2025-06-12T11:00:59.380Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/ivs-b9eb6/billingInfo 200
[debug] [2025-06-12T11:00:59.380Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/ivs-b9eb6/billingInfo {"name":"projects/ivs-b9eb6/billingInfo","projectId":"ivs-b9eb6","billingAccountName":"billingAccounts/01F3C1-D8F469-88D301","billingEnabled":true}
[info] i  dataconnect: ensuring required API firebasedataconnect.googleapis.com is enabled... 
[debug] [2025-06-12T11:00:59.380Z] Checked if tokens are valid: true, expires at: 1749729655861
[debug] [2025-06-12T11:00:59.380Z] Checked if tokens are valid: true, expires at: 1749729655861
[debug] [2025-06-12T11:00:59.380Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/ivs-b9eb6/services/firebasedataconnect.googleapis.com [none]
[debug] [2025-06-12T11:00:59.380Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/ivs-b9eb6/services/firebasedataconnect.googleapis.com x-goog-quota-user=projects/ivs-b9eb6
[debug] [2025-06-12T11:01:00.840Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/ivs-b9eb6/services/firebasedataconnect.googleapis.com 200
[debug] [2025-06-12T11:01:00.840Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/ivs-b9eb6/services/firebasedataconnect.googleapis.com [omitted]
[info] +  dataconnect: required API firebasedataconnect.googleapis.com is enabled 
[info] i  dataconnect: ensuring required API sqladmin.googleapis.com is enabled... 
[debug] [2025-06-12T11:01:00.841Z] Checked if tokens are valid: true, expires at: 1749729655861
[debug] [2025-06-12T11:01:00.841Z] Checked if tokens are valid: true, expires at: 1749729655861
[debug] [2025-06-12T11:01:00.841Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/ivs-b9eb6/services/sqladmin.googleapis.com [none]
[debug] [2025-06-12T11:01:00.841Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/ivs-b9eb6/services/sqladmin.googleapis.com x-goog-quota-user=projects/ivs-b9eb6
[debug] [2025-06-12T11:01:02.177Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/ivs-b9eb6/services/sqladmin.googleapis.com 200
[debug] [2025-06-12T11:01:02.177Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/ivs-b9eb6/services/sqladmin.googleapis.com [omitted]
[info] +  dataconnect: required API sqladmin.googleapis.com is enabled 
[info] i  dataconnect: ensuring required API compute.googleapis.com is enabled... 
[debug] [2025-06-12T11:01:02.178Z] Checked if tokens are valid: true, expires at: 1749729655861
[debug] [2025-06-12T11:01:02.178Z] Checked if tokens are valid: true, expires at: 1749729655861
[debug] [2025-06-12T11:01:02.178Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/ivs-b9eb6/services/compute.googleapis.com [none]
[debug] [2025-06-12T11:01:02.178Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/ivs-b9eb6/services/compute.googleapis.com x-goog-quota-user=projects/ivs-b9eb6
[debug] [2025-06-12T11:01:02.711Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/ivs-b9eb6/services/compute.googleapis.com 200
[debug] [2025-06-12T11:01:02.711Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/ivs-b9eb6/services/compute.googleapis.com [omitted]
[warn] !  dataconnect: missing required API compute.googleapis.com. Enabling now... 
[debug] [2025-06-12T11:01:02.711Z] Checked if tokens are valid: true, expires at: 1749729655861
[debug] [2025-06-12T11:01:02.711Z] Checked if tokens are valid: true, expires at: 1749729655861
[debug] [2025-06-12T11:01:02.712Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1/projects/ivs-b9eb6/services/compute.googleapis.com:enable [none]
[debug] [2025-06-12T11:01:02.712Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1/projects/ivs-b9eb6/services/compute.googleapis.com:enable x-goog-quota-user=projects/ivs-b9eb6
[debug] [2025-06-12T11:01:03.816Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1/projects/ivs-b9eb6/services/compute.googleapis.com:enable 200
[debug] [2025-06-12T11:01:03.816Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1/projects/ivs-b9eb6/services/compute.googleapis.com:enable [omitted]
[debug] [2025-06-12T11:01:13.823Z] Checked if tokens are valid: true, expires at: 1749729655861
[debug] [2025-06-12T11:01:13.823Z] Checked if tokens are valid: true, expires at: 1749729655861
[debug] [2025-06-12T11:01:13.823Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/ivs-b9eb6/services/compute.googleapis.com [none]
[debug] [2025-06-12T11:01:13.824Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/ivs-b9eb6/services/compute.googleapis.com x-goog-quota-user=projects/ivs-b9eb6
[debug] [2025-06-12T11:01:15.406Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/ivs-b9eb6/services/compute.googleapis.com 200
[debug] [2025-06-12T11:01:15.406Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/ivs-b9eb6/services/compute.googleapis.com [omitted]
[info] i  dataconnect: waiting for API compute.googleapis.com to activate... 
[debug] [2025-06-12T11:01:25.414Z] Checked if tokens are valid: true, expires at: 1749729655861
[debug] [2025-06-12T11:01:25.414Z] Checked if tokens are valid: true, expires at: 1749729655861
[debug] [2025-06-12T11:01:25.414Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/ivs-b9eb6/services/compute.googleapis.com [none]
[debug] [2025-06-12T11:01:25.414Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/ivs-b9eb6/services/compute.googleapis.com x-goog-quota-user=projects/ivs-b9eb6
[debug] [2025-06-12T11:01:26.999Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/ivs-b9eb6/services/compute.googleapis.com 200
[debug] [2025-06-12T11:01:26.999Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/ivs-b9eb6/services/compute.googleapis.com [omitted]
[info] i  dataconnect: waiting for API compute.googleapis.com to activate... 
[debug] [2025-06-12T11:01:37.001Z] Checked if tokens are valid: true, expires at: 1749729655861
[debug] [2025-06-12T11:01:37.001Z] Checked if tokens are valid: true, expires at: 1749729655861
[debug] [2025-06-12T11:01:37.001Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/ivs-b9eb6/services/compute.googleapis.com [none]
[debug] [2025-06-12T11:01:37.001Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/ivs-b9eb6/services/compute.googleapis.com x-goog-quota-user=projects/ivs-b9eb6
[debug] [2025-06-12T11:01:38.472Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/ivs-b9eb6/services/compute.googleapis.com 200
[debug] [2025-06-12T11:01:38.472Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/ivs-b9eb6/services/compute.googleapis.com [omitted]
[info] i  dataconnect: waiting for API compute.googleapis.com to activate... 
[debug] [2025-06-12T11:01:48.476Z] Checked if tokens are valid: true, expires at: 1749729655861
[debug] [2025-06-12T11:01:48.476Z] Checked if tokens are valid: true, expires at: 1749729655861
[debug] [2025-06-12T11:01:48.476Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/ivs-b9eb6/services/compute.googleapis.com [none]
[debug] [2025-06-12T11:01:48.476Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/ivs-b9eb6/services/compute.googleapis.com x-goog-quota-user=projects/ivs-b9eb6
[debug] [2025-06-12T11:01:50.017Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/ivs-b9eb6/services/compute.googleapis.com 200
[debug] [2025-06-12T11:01:50.017Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/ivs-b9eb6/services/compute.googleapis.com [omitted]
[info] i  dataconnect: waiting for API compute.googleapis.com to activate... 
[debug] [2025-06-12T11:02:00.026Z] Checked if tokens are valid: true, expires at: 1749729655861
[debug] [2025-06-12T11:02:00.027Z] Checked if tokens are valid: true, expires at: 1749729655861
[debug] [2025-06-12T11:02:00.027Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/ivs-b9eb6/services/compute.googleapis.com [none]
[debug] [2025-06-12T11:02:00.027Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/ivs-b9eb6/services/compute.googleapis.com x-goog-quota-user=projects/ivs-b9eb6
[debug] [2025-06-12T11:02:01.843Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/ivs-b9eb6/services/compute.googleapis.com 200
[debug] [2025-06-12T11:02:01.843Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/ivs-b9eb6/services/compute.googleapis.com [omitted]
[info] +  dataconnect: required API compute.googleapis.com is enabled 
[debug] [2025-06-12T11:02:01.845Z] Checked if tokens are valid: true, expires at: 1749729655861
[debug] [2025-06-12T11:02:01.846Z] Checked if tokens are valid: true, expires at: 1749729655861
[debug] [2025-06-12T11:02:01.846Z] >>> [apiv2][query] GET https://mobilesdk-pa.googleapis.com/v1/accessmanagement/tos:getStatus [none]
[debug] [2025-06-12T11:02:02.248Z] <<< [apiv2][status] GET https://mobilesdk-pa.googleapis.com/v1/accessmanagement/tos:getStatus 200
[debug] [2025-06-12T11:02:02.248Z] <<< [apiv2][body] GET https://mobilesdk-pa.googleapis.com/v1/accessmanagement/tos:getStatus {"overallStatus":"ACCEPTED","uTosStatus":{"tos":{"id":"firebase","tosId":"FIREBASE_UNIVERSAL"},"status":"ACCEPTED","acceptedVersion":7},"childTosStatus":[{"tos":{"id":"cloud","tosId":"CLOUD_PLATFORM"},"status":"ACCEPTED","acceptedVersion":38},{"tos":{"id":"firebase_b2b","tosId":"FIREBASE_B2B"},"status":"ACCEPTED","acceptedVersion":1},{"tos":{"id":"universal","tosId":"GOOGLE_APIS"},"status":"ACCEPTED","acceptedVersion":6}],"termsUrl":"https://firebase.google.com/terms","perServiceStatus":[{"tosId":"APP_CHECK","serviceStatus":{"tos":{"id":"app_check","tosId":"APP_CHECK"},"status":"ACCEPTED","acceptedVersion":3}},{"tosId":"APP_HOSTING_TOS","serviceStatus":{"tos":{"id":"app_hosting","tosId":"APP_HOSTING_TOS"},"status":"ACCEPTED","acceptedVersion":3}},{"tosId":"FIREBASE_DATA_CONNECT","serviceStatus":{"tos":{"id":"data_connect","tosId":"FIREBASE_DATA_CONNECT"},"status":"ACCEPTED","acceptedVersion":3}},{"tosId":"CORE_APPS","serviceStatus":{"tos":{"id":"core_apps","tosId":"CORE_APPS"},"status":"ACCEPTED","acceptedVersion":1}},{"tosId":"VERTEX_AI_IN_FIREBASE","serviceStatus":{"tos":{"id":"vertex_ai_in_firebase","tosId":"VERTEX_AI_IN_FIREBASE"},"status":"ACCEPTED","acceptedVersion":2}},{"tosId":"FIREBASE_CRASHLYTICS_APP_DISTRIBUTION","serviceStatus":{"tos":{"id":"firebase_crashlytics_app_distribution","tosId":"FIREBASE_CRASHLYTICS_APP_DISTRIBUTION"},"status":"ACCEPTED","acceptedVersion":4}},{"tosId":"GENERATIVE_LANGUAGE","serviceStatus":{"tos":{"id":"generative-language-api","tosId":"GENERATIVE_LANGUAGE"},"status":"ACCEPTED","acceptedVersion":3}}]}
[info] i  dataconnect: Preparing to deploy 
[debug] [2025-06-12T11:02:02.269Z] defaultcredentials: writing to file C:\Users\nbi29\AppData\Roaming\firebase\ivsedu_dalat_gmail.com_application_default_credentials.json
[debug] [2025-06-12T11:02:03.999Z] I0612 18:02:03.973815    2628 build.go:55] No deployed sources found for service your-service-id
I0612 18:02:03.988449    2628 control.go:73] [/emulator/your-service-id eb72] UpdateResources(): done
Schema: sources: schema\schema.gql [1608B] 
Connector "movie-connector": sources: movie-connector\mutations.gql [2334B] movie-connector\queries.gql [3900B] 
 {"metadata":{"emulator":{"name":"dataconnect"},"message":"I0612 18:02:03.973815    2628 build.go:55] No deployed sources found for service your-service-id\nI0612 18:02:03.988449    2628 control.go:73] [/emulator/your-service-id eb72] UpdateResources(): done\nSchema: sources: schema\\schema.gql [1608B] \nConnector \"movie-connector\": sources: movie-connector\\mutations.gql [2334B] movie-connector\\queries.gql [3900B] \n"}}
[info] i  dataconnect: Successfully prepared schema and connectors 
[debug] [2025-06-12T11:02:04.000Z] {
  "serviceInfos": [
    {
      "serviceName": "projects/ivs-b9eb6/locations/us-central1/services/your-service-id",
      "sourceDirectory": "C:\\Users\\nbi29\\my-ivs-backend\\codelab-dataconnect-web\\dataconnect",
      "schema": {
        "name": "projects/ivs-b9eb6/locations/us-central1/services/your-service-id/schemas/main",
        "datasources": [
          {
            "postgresql": {
              "database": "your-database",
              "cloudSql": {
                "instance": "projects/ivs-b9eb6/locations/us-central1/instances/your-instance-id"
              }
            }
          }
        ],
        "source": {
          "files": [
            {
              "path": "schema.gql",
              "content": " # Copyright 2024 Google LLC\r\n #\r\n # Licensed under the Apache License, Version 2.0 (the \"License\");\r\n # you may not use this file except in compliance with the License.\r\n # You may obtain a copy of the License at\r\n #\r\n #      http://www.apache.org/licenses/LICENSE-2.0\r\n #\r\n # Unless required by applicable law or agreed to in writing, software\r\n # distributed under the License is distributed on an \"AS IS\" BASIS,\r\n # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n # See the License for the specific language governing permissions and\r\n # limitations under the License.\r\n\r\n# Movies\r\n# TODO: Fill out Movie table\r\n\r\n# Movie Metadata\r\n# Movie - MovieMetadata is a one-to-one relationship\r\n# TODO: Fill out MovieMetadata table\r\n\r\n# Actors\r\n# Suppose an actor can participate in multiple movies and movies can have multiple actors\r\n# Movie - Actors (or vice versa) is a many to many relationship\r\n# TODO: Fill out Actor table\r\n\r\n# Join table for many-to-many relationship for movies and actors\r\n# The 'key' param signifies the primary key(s) of this table\r\n# In this case, the keys are [movieId, actorId], the generated fields of the reference types [movie, actor]\r\n# TODO: Fill out MovieActor table\r\n\r\n# Users\r\n# Suppose a user can leave reviews for movies\r\n# user-reviews is a one to many relationship, movie-reviews is a one to many relationship, movie:user is a many to many relationship\r\n# TODO: Fill out User table\r\n\r\n# Join table for many-to-many relationship for users and favorite movies\r\n# TODO: Fill out FavoriteMovie table\r\n\r\n# Reviews\r\n# TODO: Fill out Review table\r\n\r\n"
            }
          ]
        }
      },
      "dataConnectYaml": {
        "specVersion": "v1alpha",
        "serviceId": "your-service-id",
        "location": "us-central1",
        "schema": {
          "source": "./schema",
          "datasource": {
            "postgresql": {
              "database": "your-database",
              "cloudSql": {
                "instanceId": "your-instance-id"
              }
            }
          }
        },
        "connectorDirs": [
          "./movie-connector"
        ]
      },
      "connectorInfo": [
        {
          "directory": "C:\\Users\\nbi29\\my-ivs-backend\\codelab-dataconnect-web\\dataconnect\\movie-connector",
          "connectorYaml": {
            "connectorId": "movie-connector",
            "generate": {
              "javascriptSdk": {
                "package": "@movie/dataconnect",
                "outputDir": "../../app/src/lib/dataconnect-sdk",
                "packageJsonDir": "../../app"
              }
            }
          },
          "connector": {
            "name": "projects/ivs-b9eb6/locations/us-central1/services/your-service-id/connectors/movie-connector",
            "source": {
              "files": [
                {
                  "path": "mutations.gql",
                  "content": " # Copyright 2024 Google LLC\r\n #\r\n # Licensed under the Apache License, Version 2.0 (the \"License\");\r\n # you may not use this file except in compliance with the License.\r\n # You may obtain a copy of the License at\r\n #\r\n #      http://www.apache.org/licenses/LICENSE-2.0\r\n #\r\n # Unless required by applicable law or agreed to in writing, software\r\n # distributed under the License is distributed on an \"AS IS\" BASIS,\r\n # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n # See the License for the specific language governing permissions and\r\n # limitations under the License.\r\n #\r\n\r\n# Upsert (update or insert) a user based on their username\r\n# TODO: Complete UpsertUser\r\n\r\n# Add a movie to the user's favorites list\r\n# TODO: Complete AddFavoritedMovie\r\n\r\n# Remove a movie from the user's favorites list\r\n# TODO: Complete DeleteFavoritedMovie\r\n\r\n# Add a review for a movie\r\n# TODO: Complete AddReview\r\n\r\n# Delete a user's review for a movie\r\n# TODO: Complete DeleteReview\r\n\r\n\r\n\r\n# The mutations below are unused by the application, but are useful examples for more complex cases\r\n\r\n# Create a movie based on user input\r\n# mutation CreateMovie(\r\n#   $title: String!\r\n#   $releaseYear: Int!\r\n#   $genre: String!\r\n#   $rating: Float\r\n#   $description: String\r\n#   $imageUrl: String!\r\n#   $tags: [String!] = []\r\n# ) @auth(expr: \"auth.token.isAdmin == true\") {\r\n\r\n# }\r\n# Update movie information based on the provided ID\r\n# mutation UpdateMovie(\r\n#   $id: UUID!\r\n#   $title: String\r\n#   $releaseYear: Int\r\n#   $genre: String\r\n#   $rating: Float\r\n#   $description: String\r\n#   $imageUrl: String\r\n#   $tags: [String!] = []\r\n# ) @auth(level: USER_EMAIL_VERIFIED) {\r\n#   movie_update(\r\n#     id: $id\r\n#     data: {\r\n#       title: $title\r\n#       releaseYear: $releaseYear\r\n#       genre: $genre\r\n#       rating: $rating\r\n#       description: $description\r\n#       imageUrl: $imageUrl\r\n#       tags: $tags\r\n#     }\r\n#   )\r\n# }\r\n\r\n# Delete a movie by its ID\r\n# mutation DeleteMovie($id: UUID!) @auth(level: USER_EMAIL_VERIFIED) {\r\n#   movie_delete(id: $id)\r\n# }\r\n\r\n# Delete movies with a rating lower than the specified minimum rating\r\n# mutation DeleteUnpopularMovies($minRating: Float!) @auth(level: USER_EMAIL_VERIFIED) {\r\n#   movie_deleteMany(where: { rating: { le: $minRating } })\r\n# }\r\n# End of example mutations\r\n"
                },
                {
                  "path": "queries.gql",
                  "content": " # Copyright 2024 Google LLC\r\n #\r\n # Licensed under the Apache License, Version 2.0 (the \"License\");\r\n # you may not use this file except in compliance with the License.\r\n # You may obtain a copy of the License at\r\n #\r\n #      http://www.apache.org/licenses/LICENSE-2.0\r\n #\r\n # Unless required by applicable law or agreed to in writing, software\r\n # distributed under the License is distributed on an \"AS IS\" BASIS,\r\n # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n # See the License for the specific language governing permissions and\r\n # limitations under the License.\r\n #\r\n\r\n# List subset of fields for movies\r\n# TODO: Update ListMovies\r\n# query ListMovies @auth(level: PUBLIC) {\r\n#   movies{\r\n#     id\r\n#     title\r\n#     imageUrl\r\n#     releaseYear\r\n#     genre\r\n#     rating\r\n#     tags\r\n#     description\r\n#   }\r\n# }\r\n\r\n# Get movie by id\r\n# TODO: Complete GetMovieById\r\n\r\n# Get actor by id\r\n# TODO: Complete GetActorById\r\n\r\n# Get current authenticated user\r\n# TODO: Complete GetCurrentUser\r\n\r\n# Check if a movie is favorited by user\r\n# TODO: Complete GetIfFavoritedMovie\r\n\r\n# Search for movies, actors, and reviews\r\n# TODO: Complete SearchAll\r\n\r\n# Search movie descriptions using L2 similarity with Vertex AI\r\n# TODO: Complete SearchMovieDescriptionUsingL2Similarity\r\n\r\n\r\n# # The queries below are unused by the application, but are useful examples for more complex cases\r\n\r\n# # List movies by partial title match\r\n# query ListMoviesByPartialTitle($input: String!) @auth(level: PUBLIC) {\r\n#   movies(where: { title: { contains: $input } }) {\r\n#     id\r\n#     title\r\n#     genre\r\n#     rating\r\n#     imageUrl\r\n#   }\r\n# }\r\n\r\n# # List movies by tag\r\n# query ListMoviesByTag($tag: String!) @auth(level: PUBLIC) {\r\n#   movies(where: { tags: { includes: $tag } }) {\r\n#     id\r\n#     title\r\n#     imageUrl\r\n#     genre\r\n#     rating\r\n#   }\r\n# }\r\n\r\n# # List movies by release year range\r\n# query MoviesByReleaseYear($min: Int, $max: Int) @auth(level: PUBLIC) {\r\n#   movies(\r\n#     where: { releaseYear: { le: $max, ge: $min } }\r\n#     orderBy: { releaseYear: ASC }\r\n#   ) {\r\n#     id\r\n#     rating\r\n#     title\r\n#     imageUrl\r\n#   }\r\n# }\r\n\r\n# # List movies by rating and genre with OR filters\r\n# query SearchMovieOr(\r\n#   $minRating: Float\r\n#   $maxRating: Float\r\n#   $genre: String\r\n#   $tag: String\r\n#   $input: String\r\n# ) @auth(level: PUBLIC) {\r\n#   movies(\r\n#     where: {\r\n#       _or: [\r\n#         { rating: { ge: $minRating } }\r\n#         { rating: { le: $maxRating } }\r\n#         { genre: { eq: $genre } }\r\n#         { tags: { includes: $tag } }\r\n#         { title: { contains: $input } }\r\n#       ]\r\n#     }\r\n#   ) {\r\n#     id\r\n#     rating\r\n#     title\r\n#     imageUrl\r\n#   }\r\n# }\r\n\r\n# # List movies by rating and genre with AND filters\r\n# query SearchMovieAnd(\r\n#   $minRating: Float\r\n#   $maxRating: Float\r\n#   $genre: String\r\n#   $tag: String\r\n#   $input: String\r\n# ) @auth(level: PUBLIC) {\r\n#   movies(\r\n#     where: {\r\n#       _and: [\r\n#         { rating: { ge: $minRating } }\r\n#         { rating: { le: $maxRating } }\r\n#         { genre: { eq: $genre } }\r\n#         { tags: { includes: $tag } }\r\n#         { title: { contains: $input } }\r\n#       ]\r\n#     }\r\n#   ) {\r\n#     id\r\n#     rating\r\n#     title\r\n#     imageUrl\r\n#   }\r\n# }\r\n\r\n# # Get favorite actors by user ID\r\n# query GetFavoriteActors @auth(level: USER) {\r\n#   user(key: {id_expr: \"auth.uid\"}) {\r\n#     favorite_actors_on_user {\r\n#       actor {\r\n#         id\r\n#         name\r\n#         imageUrl\r\n#       }\r\n#     }\r\n#   }\r\n# }\r\n\r\n# # Get favorite movies by user ID\r\n# query GetUserFavoriteMovies @auth(level: USER) {\r\n#   user(id_expr: \"auth.uid\") {\r\n#     favorite_movies_on_user {\r\n#       movie {\r\n#         id\r\n#         title\r\n#         genre\r\n#         imageUrl\r\n#         releaseYear\r\n#         rating\r\n#         description\r\n#       }\r\n#     }\r\n#   }\r\n# }\r\n# # end of example queries"
                }
              ]
            }
          }
        }
      ],
      "deploymentMetadata": {
        "primaryDataSource": {
          "postgres": {
            "requiredExtensions": null
          }
        }
      }
    }
  ]
}
[debug] [2025-06-12T11:02:04.000Z] Checked if tokens are valid: true, expires at: 1749729655861
[debug] [2025-06-12T11:02:04.000Z] Checked if tokens are valid: true, expires at: 1749729655861
[debug] [2025-06-12T11:02:04.000Z] >>> [apiv2][query] GET https://firebasedataconnect.googleapis.com/v1/projects/ivs-b9eb6/locations/-/services [none]
[debug] [2025-06-12T11:02:05.687Z] <<< [apiv2][status] GET https://firebasedataconnect.googleapis.com/v1/projects/ivs-b9eb6/locations/-/services 200
[debug] [2025-06-12T11:02:05.687Z] <<< [apiv2][body] GET https://firebasedataconnect.googleapis.com/v1/projects/ivs-b9eb6/locations/-/services {"services":[{"name":"projects/ivs-b9eb6/locations/asia-southeast2/services/ivs-b9eb6-service","createTime":"2025-06-12T06:38:40.356746701Z","updateTime":"2025-06-12T06:38:41.681891443Z","uid":"9004aaf4-f604-42cb-8f00-8c82e0b48dae","reconciling":false,"etag":"PQOrb3KZNuHKN9ADK-_bJ7macc-3Uko5t6XCbG2ieI0"}]}
[debug] [2025-06-12T11:02:05.688Z] Checked if tokens are valid: true, expires at: 1749729655861
[debug] [2025-06-12T11:02:05.688Z] Checked if tokens are valid: true, expires at: 1749729655861
[debug] [2025-06-12T11:02:05.688Z] >>> [apiv2][query] POST https://firebasedataconnect.googleapis.com/v1/projects/ivs-b9eb6/locations/us-central1/services service_id=your-service-id
[debug] [2025-06-12T11:02:05.688Z] >>> [apiv2][body] POST https://firebasedataconnect.googleapis.com/v1/projects/ivs-b9eb6/locations/us-central1/services {"name":"projects/ivs-b9eb6/locations/us-central1/services/your-service-id"}
[debug] [2025-06-12T11:02:07.387Z] <<< [apiv2][status] POST https://firebasedataconnect.googleapis.com/v1/projects/ivs-b9eb6/locations/us-central1/services 200
[debug] [2025-06-12T11:02:07.387Z] <<< [apiv2][body] POST https://firebasedataconnect.googleapis.com/v1/projects/ivs-b9eb6/locations/us-central1/services {"name":"projects/ivs-b9eb6/locations/us-central1/operations/operation-1749726126843-6375ddc3ea564-65d727c2-c5b791db","metadata":{"@type":"type.googleapis.com/google.firebase.dataconnect.v1.OperationMetadata","createTime":"2025-06-12T11:02:07.282839561Z","target":"projects/ivs-b9eb6/locations/us-central1/services/your-service-id","verb":"create","requestedCancellation":false,"apiVersion":"v1"},"done":false}
[debug] [2025-06-12T11:02:07.388Z] Checked if tokens are valid: true, expires at: 1749729655861
[debug] [2025-06-12T11:02:07.388Z] Checked if tokens are valid: true, expires at: 1749729655861
[debug] [2025-06-12T11:02:07.388Z] >>> [apiv2][query] GET https://firebasedataconnect.googleapis.com/v1/projects/ivs-b9eb6/locations/us-central1/operations/operation-1749726126843-6375ddc3ea564-65d727c2-c5b791db [none]
[debug] [2025-06-12T11:02:07.692Z] <<< [apiv2][status] GET https://firebasedataconnect.googleapis.com/v1/projects/ivs-b9eb6/locations/us-central1/operations/operation-1749726126843-6375ddc3ea564-65d727c2-c5b791db 200
[debug] [2025-06-12T11:02:07.692Z] <<< [apiv2][body] GET https://firebasedataconnect.googleapis.com/v1/projects/ivs-b9eb6/locations/us-central1/operations/operation-1749726126843-6375ddc3ea564-65d727c2-c5b791db {"name":"projects/ivs-b9eb6/locations/us-central1/operations/operation-1749726126843-6375ddc3ea564-65d727c2-c5b791db","metadata":{"@type":"type.googleapis.com/google.firebase.dataconnect.v1.OperationMetadata","createTime":"2025-06-12T11:02:07.282839561Z","target":"projects/ivs-b9eb6/locations/us-central1/services/your-service-id","verb":"create","requestedCancellation":false,"apiVersion":"v1"},"done":false}
[debug] [2025-06-12T11:02:08.205Z] [LRO Poller] Retrying task index 0
[debug] [2025-06-12T11:02:08.205Z] Checked if tokens are valid: true, expires at: 1749729655861
[debug] [2025-06-12T11:02:08.205Z] Checked if tokens are valid: true, expires at: 1749729655861
[debug] [2025-06-12T11:02:08.205Z] >>> [apiv2][query] GET https://firebasedataconnect.googleapis.com/v1/projects/ivs-b9eb6/locations/us-central1/operations/operation-1749726126843-6375ddc3ea564-65d727c2-c5b791db [none]
[debug] [2025-06-12T11:02:08.464Z] <<< [apiv2][status] GET https://firebasedataconnect.googleapis.com/v1/projects/ivs-b9eb6/locations/us-central1/operations/operation-1749726126843-6375ddc3ea564-65d727c2-c5b791db 200
[debug] [2025-06-12T11:02:08.464Z] <<< [apiv2][body] GET https://firebasedataconnect.googleapis.com/v1/projects/ivs-b9eb6/locations/us-central1/operations/operation-1749726126843-6375ddc3ea564-65d727c2-c5b791db {"name":"projects/ivs-b9eb6/locations/us-central1/operations/operation-1749726126843-6375ddc3ea564-65d727c2-c5b791db","metadata":{"@type":"type.googleapis.com/google.firebase.dataconnect.v1.OperationMetadata","createTime":"2025-06-12T11:02:07.282839561Z","target":"projects/ivs-b9eb6/locations/us-central1/services/your-service-id","verb":"create","requestedCancellation":false,"apiVersion":"v1"},"done":false}
[debug] [2025-06-12T11:02:09.475Z] [LRO Poller] Retrying task index 0
[debug] [2025-06-12T11:02:09.475Z] Checked if tokens are valid: true, expires at: 1749729655861
[debug] [2025-06-12T11:02:09.475Z] Checked if tokens are valid: true, expires at: 1749729655861
[debug] [2025-06-12T11:02:09.476Z] >>> [apiv2][query] GET https://firebasedataconnect.googleapis.com/v1/projects/ivs-b9eb6/locations/us-central1/operations/operation-1749726126843-6375ddc3ea564-65d727c2-c5b791db [none]
[debug] [2025-06-12T11:02:09.751Z] <<< [apiv2][status] GET https://firebasedataconnect.googleapis.com/v1/projects/ivs-b9eb6/locations/us-central1/operations/operation-1749726126843-6375ddc3ea564-65d727c2-c5b791db 200
[debug] [2025-06-12T11:02:09.751Z] <<< [apiv2][body] GET https://firebasedataconnect.googleapis.com/v1/projects/ivs-b9eb6/locations/us-central1/operations/operation-1749726126843-6375ddc3ea564-65d727c2-c5b791db {"name":"projects/ivs-b9eb6/locations/us-central1/operations/operation-1749726126843-6375ddc3ea564-65d727c2-c5b791db","metadata":{"@type":"type.googleapis.com/google.firebase.dataconnect.v1.OperationMetadata","createTime":"2025-06-12T11:02:07.282839561Z","endTime":"2025-06-12T11:02:08.435727500Z","target":"projects/ivs-b9eb6/locations/us-central1/services/your-service-id","verb":"create","requestedCancellation":false,"apiVersion":"v1"},"done":true,"response":{"@type":"type.googleapis.com/google.firebase.dataconnect.v1.Service","name":"projects/ivs-b9eb6/locations/us-central1/services/your-service-id","createTime":"2025-06-12T11:02:07.278807971Z","updateTime":"2025-06-12T11:02:07.278807971Z","uid":"c182ddc6-9c0f-4f6d-b348-eca51225a71c","reconciling":false,"etag":"roMPeYezxbc_nYFWP5lUGv6pZoNG5SwG8hD438mEv04"}}
[info] +  dataconnect: Created service projects/ivs-b9eb6/locations/us-central1/services/your-service-id 
